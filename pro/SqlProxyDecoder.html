<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 1</title>
    <link rel="stylesheet" href="../css/styles.css">
    <!-- Prism.js CSS for syntax highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-okaidia.min.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <style>
        /* Title Block */
        .title-block {
            background-color: #333;
            color: white;
            padding: 40px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Code Block */
        .code-block-wrapper {
            background-color: #222;
            color: white;
            padding: 20px;
            margin-top: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .code-block {
            background-color: #1e1e1e;
            padding: 15px;
            border-radius: 5px;
            color: #f1f1f1;
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        /* Heading style */
        .content-wrapper h1 {
            margin-bottom: 15px;
        }
    </style>
</head>
<body class="dark-mode">
    <div id="particles-js"></div>
    <header class="dark-mode">
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../about.html">About</a></li>
                <li><a href="../projects.html">Projects</a></li>
                <li><a href="../contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="content-wrapper">
            <!-- Step 1 Block -->
            <div class="title-block">
                <h1>SqlMapDecodeProxy</h1>
                <p>A proxy for SQLMap and also decodes the response.</p>
                <p>Coming Soon!</p>
            </div>
            
            <h2>Step 1: Create a Folder for SqlMapProxy</h2>
            <p>First, create a dedicated folder where you will store the generated certificates and the proxy file for SqlMapProxy. This will help keep everything organized and easily accessible.</p>
            
            <div class="code-block-wrapper">
                <h3>Create the Folder and Generate SSL Certificate</h3>
                <p>In the folder you created, run the following commands to set up your directory and generate an SSL certificate:</p>
                <div class="code-block">
                    <pre><code class="language-bash">
# Create a folder for SqlMapProxy and navigate to it
mkdir sqlproxy
cd sqlproxy 

# Generate the SSL certificate
openssl genpkey -algorithm RSA -out private_key.pem
openssl req -new -key private_key.pem -out cert_request.csr
openssl x509 -req -in cert_request.csr -signkey private_key.pem -out cert.pem -days 365
                    </code></pre>
                </div>
            </div>
            
            <!-- Step 2 Block -->
            <h2>Step 2: Set Up the Proxy Script</h2>
            <p>Now, we need to create the proxy script that will intercept and decode the requests and responses. This script will work with SQLMap to perform SQL injection testing with an added layer of decoding.</p>
            
            <div class="code-block-wrapper">
                <h3>Create the Proxy Script</h3>
                <p>In the folder you created, create a new Python script called <code>proxy.py</code>. This script will handle the requests and responses that SQLMap sends.</p>
                <div class="code-block">
                    <pre><code class="language-python">
# proxy.py
import socket
import ssl
import requests

# Create a proxy server
def create_proxy_server():
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind(('0.0.0.0', 8080))
    server.listen(5)
    print("Listening for connections on port 8080...")
    return server

# Handle the incoming requests
def handle_request(connection, address):
    data = connection.recv(1024)
    print(f"Received request from {address}: {data.decode()}")
    response = process_request(data)  # Function to process the request and return a decoded response
    connection.send(response)
    connection.close()

# Proxy setup
def start_proxy():
    server = create_proxy_server()
    while True:
        connection, address = server.accept()
        handle_request(connection, address)

if __name__ == "__main__":
    start_proxy()
                    </code></pre>
                </div>
            </div>
        </div>
    </main>
    <footer class="dark-mode">
        <p>&copy; 2024 Security Researcher</p>
    </footer>
    <script src="../js/scripts.js"></script>
</body>
</html>
